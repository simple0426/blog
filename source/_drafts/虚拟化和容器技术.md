---
title: 虚拟化和容器技术
tags:
categories:
---
# 虚拟化产生背景
* 部署非常慢：采购服务器、安装操作系统、安装软件环境
* 资源浪费：硬件需要预采购，成本很高；但是会面临cpu、内存等资源使用不足
* 软件难于迁移和扩展
* 软件被限定只能运行在特定硬件上

# 虚拟化技术优势
![](https://simple0426-blog.oss-cn-beijing.aliyuncs.com/virtual-tech.jpg)

* 资源池：一个物理机的资源可以分配到不同虚拟机里
* 容易扩展：加物理机或加虚拟机
* 容易云化：比如AWS、阿里云等

# 虚拟化产品
* openstack：数据中心级别的虚拟化管理方案
* kvm：基于内核实现的虚拟化解决方案，一般用于多租户计算资源管理；KVM整体效率最高
* vmware：和kvm一样，是基于内核的虚拟化解决方案；功能全面
* virtualbox：与vmware类似，但比vmware轻量、运行效率也比vmware高；oracle开源产品，中文用户多。

# 虚拟化局限性
每一个虚拟机都是一个完整的操作系统，操作系统本身需要消耗资源

# 容器出现
通过标准化“应用运行环境”，沟通开发(dev)和运维(ops)流程

![](https://simple0426-blog.oss-cn-beijing.aliyuncs.com/devops-demo.jpg)
# 容器
* 对软件和其依赖的标准化打包
* 应用之间相互隔离
* 共享同一个os内核
* 可以运行在多个主流操作系统上

# 容器与虚拟机
* 区别：容器是在操作系统层面实现虚拟化，直接复用本地操作系统内核，它的技术基础是linux容器技术（LXC，即cgroups）；传统虚拟化方式则基于硬件层面实现虚拟化。

![](https://simple0426-blog.oss-cn-beijing.aliyuncs.com/containerVSvm.jpg)

* 融合：由于目前docker不支持热迁移，可以将docker容器放在KVM虚拟机里，通过虚拟机的迁移完成容器的迁移

![](https://simple0426-blog.oss-cn-beijing.aliyuncs.com/container%2BVM.jpg)
