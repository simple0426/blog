---
title: linux系统-文件管理
tags:
categories:
---
# 文件管理
* cat：显示文件内容
    - -n：显示行号
    - -b：忽略空白行，显示行号
    - -A：显示所有非打印字符【比如tab、换行符等】
* [ls](#ls)：显示目录内容
* ln：在文件之间建立链接【无参数时建立硬链接，-s参数时建立软连接】
* pwd：显示当前绝对路径
* cd：切换目录
* mv：移动或重命名文件【目录】
* rm：删除文件或目录
    - -r：递归删除目录及其内容
    - -f：强制删除不提示
* [cp](#cp)：复制文件和目录
* touch：改变文件时间戳，没有则创建
* mkdir：创建目录【-p 存在不报错，根据需要创建父目录】
* [tar](#)：建立归档文件
* [zip、unzip](#zip)：压缩文件
* [gzip、gunzip](#gzip)：打包、压缩文件或目录
* dos2unix/unix2dos：windows与unix文件格式转换
* tree
* file：查看文件类型【比如：链接、二进制、可执行等】
* stat：文件状态查看【包含属主组、权限、大小、inode、block、时间戳等】
* fsck、e2fsck
* dd
* diff、vimdiff
* du、df
* mount、parted

# ls
## 参数
* -l：以较长格式显示信息
* -a：显示目录下的全部文件，包含以“.”开始的隐藏条目
* -t：以最后修改时间【mtime】进行排序
* -r：反向排序
* -R：递归列出子目录
* -F：在条目后加上文件类型指示符【*/=>@|】
    - “/”：目录
    - “@”：符号链接
    - “*”：可执行程序
    - “=”：套接字
    - “|”：FIFOS
* -i：显示inode信息
* -d：显示目录本身而非其子目录的属性，并且不跟随符号链接
* -s：根据文件大小排序
* -1：每行一个文件名
* -X：根据扩展名排序

## 范例
* 统计文件数量：ls -lR|grep '^-'|wc -l 

# cp
* -a：-dR --preserve=all
* -d：不跟随符号链接，保持链接属性
* -p：保持权限、属主、时间戳
* -r、-R：递归复制文件、目录
* -f：强制覆盖
* -i：覆盖操作时交互式提醒【shell下cp命令默认为cp -i】
* -s：建立软链接
* -l：建立硬链接

# gzip
>gzip只压缩文件
>gunzip是shell脚本（内容就是gzip -d）

* gzip压缩或解压时，不保留源文件
* 默认，gzip压缩保持文件名和时间戳
* -d：解压数据
* -f：强制压缩或解压
* -N：解压时保持原有文件名和时间戳
* -q：取消所有警告信息
* -r：递归的处理目录【进入目录，然后压缩或解压文件】
* -t：检测压缩文件的完整性
* -c：压缩内容到标准输出，或解压内容到标准输出
    - 范例：压缩并保留源文件：gzip -c 1.txt > 1.gz

# zip
>打包、压缩文件或目录

* 语法：zip 选项 压缩文件名 输入路径1 输入路径2 。。。
* 压缩文件名：可以是新的或已经存在的
    - 如果是已存在的文件，zip将替换压缩文件中已存在的条目或向压缩文件中添加不存在的条目
    - 压缩文件名可以不含zip后缀【默认添加】
    - 范例1：持续向压缩文件添加内容：find . -maxdepth 1 -name "*.conf"|xargs -I {} zip conf {}
    - 范例2：压缩当前目录：
        + 不包含隐藏内容：`zip aa *`
        + 包含隐藏内容：`zip aa * .*`
* 输入路径：可以是文件或目录，同时也可以使用通配符

## 选项
* -r/--recurse-paths：压缩目录下的内容
* -P/--password password：压缩时加密【非交互式】
* -e/--encrypt：压缩时加密【交互式】
* -i/--include：包含某些文件
    - 范例：`zip -r test test -i test/*.txt`
* -x/--exclude：不包含某些文件
* -j/--junk-paths：不包含路径【默认也打包路径】
* -m/--move：移动后打包文件【相当于删除源文档】
* -T/--test：测试压缩包完整性
* -q/--quiet：安静模式【shell脚本】
* -n【0-9】：压缩级别【默认6，9表示压缩级别最高，压缩后文件最小】
* -sf：查看压缩文件包含的文件列表

## unzip
* -d：解压到指定目录
* -P：使用指定密码解压
* -q：静默模式

# tar
>打包多个文件或目录到单一个归档文件

* -c：创建新的归档文件
* -r：向归档文件末尾添加文件
* -t：显示归档文件包含的文件列表
* -x：从归档文件中提取文件
* -C：切换到目录【打包的源路径、解压的目标路径】
    - 范例：tar xzf conf.tar.gz -C ../conf/
* -f：指定归档文件名【其后不加其他参数名】
* -j：使用bzip2进行文件压缩、解压工作
* -J：使用xz进行文件压缩解压工作
    - tar cJvf conf.xz *
* -g：使用gzip进行文件压缩解压工作
* -p：保持文件属性
* -v：显示操作过程
* -h：跟随软链接，打包真实数据
* -X, --exclude-from=FILE
* --exclude=PATTERN【与rsync类似】
    - 范例：tar czvf conf.tar.gz * --exclude "10-*"
