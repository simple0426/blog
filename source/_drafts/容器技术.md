---
title: 容器技术
tags:
categories:
---
# 容器核心技术
* 资源视图隔离：namespace
* 资源使用限制：cgroups
* 独立文件系统：chroot【linux下的解决方案】

# 分层文件系统
1. 镜像拆分成多个模块，可以并行下载，提高分发效率
2. 镜像数据是共享的，每次下载或构建镜像时，可以复用已存在的部分数据，此时，只需存储本地不存在的数据。

# 概念
容器：视图隔离、资源可限制、独立文件系统的进程集合  
容器镜像：容器运行所需的所有文件集合  

# 镜像构建
* 使用Dockerfile做配置描述
* docker build构建

# 镜像仓库

# 容器运行
* 下载镜像
* docker run运行

# 数据卷
1.  直接映射宿主机目录
2.  建立数据卷
      * 建立：docker volume create hello
      * 使用：docker run -d -v hello:/world busybox ls /world

# docke分类
* moby：是继承了原先的docker的项目，是社区维护的的开源项目，谁都可以在moby的基础打造自己的容器产品
* docker-ce是docker公司维护的开源项目，是一个基于moby项目的免费的容器产品
* docker-ee是docker公司维护的闭源产品，是docker公司的商业产品。

# 相关项目
* [compose](https://github.com/docker/compose)：简单的多容器部署工具，通过简单的命令和配置，管理服务于某个应用的多个容器
* [machine](https://github.com/docker/machine)：将docker安装在指定主机，比如虚拟机、本地、远端云主机
* [kitematic](https://github.com/docker/kitematic)：桌面版的docker客户端
* [toolbox](https://github.com/docker/toolbox)：将docker安装在mac和windows下的传统方式【官方已有新的解决方案】，安装包含如下
    - docker machine
    - docker engine【docker command】
    - docker compose
    - kitematic
    - shell command-line
    - Oracle VirtualBox
* swarm：容器编排工具
