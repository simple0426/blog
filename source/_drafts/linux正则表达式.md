---
title: linux正则表达式
tags:
categories:
---

# POSIX正则表达式
* POSIX表示可移植操作系统接口（Portable Operating System Interface of UNIX，缩写为 POSIX ）,  
* POSIX定义了两种类型的正则表达式（分别为BRE和ERE）
    - BRE(Basic Regular Expression)：基本正则表达式，grep/vi/sed属于BRE一派的
    - ERE(Extended Regular Expressions)：扩展正则表达式，egrep/awk属于ERE一派的

## BRE和ERE区别
* BRE中特殊字符：`. \ [ ^ $ *`
* ERE相对于BRE多了7个特殊字符【`? + { } | ( )`】，在BRE中要实现相应的功能，需要使用转义符，如下为BRE和ERE（ERE与PCRE基本相同）的区别

|               功能含义               | BRE  | ERE |
|--------------------------------------|------|-----|
| 定义子表达式的开始                   | `\(` | (   |
| 定义子表达式的结束                   | `\)` | )   |
| 匹配前一个字符(子表达式)的一次或多次 | `\+` | +   |
| 匹配前一个字符(子表达式)的零次或一次 | `\?` | ?   |
| 大括号开始                           | `\{` | `{` |
| 大括号结束                           | `\}` | `}` |
| 交替匹配                             | `\1` | 1   |

# 元字符
* 点：匹配单个任意字符
* `\`：转义字符
* 方括号表达式
    - `[0123456789]`：匹配任意单个数字
    - `[^0123456789]`：匹配数字之外的字符
    - `[a-d]`：           范围表达式，等同于`[abcd]`【和地区字典排序有关】
    - 包含]时必须放在方括号的第一个位置
    - 包含`^`不能放在第一个位置
    - 包含`-`必须放在括号内的最后一个位置

## POSIX标准字符类
>预定义的方括号表达式【和地区字典无关的设置】
>主要用于填补POSIX标准不存在字符、数字等基本预定义字符【PCRE中存在\s \w \d等基本预定义字符】

* `[:alnum:]`：字母和数字
* `[:alpha:]`：字母
* `[:blank:]`：空格或tab
* `[:cntrl:]`：控制字符
* `[:digit:]`：数字
* `[:graph:]`：任何可看到且可打印的字符
* `[:lower:]`：小写字母
* `[:print:]`：非控制字符
* `[:space:]`：产生空白的字符
* `[:upper:]`：大写字母
* `[:xdigit:]`：十六进制数字
* `[:punct:]`：标点符号

# 边界
* ^ 表示以什么开头的行
* $ 表示以什么结尾的行

# 数量词
* \* 匹配前一个字符0或多次
* ？ 匹配前一个字符0或1次  【扩展正则示例】
* + 匹配前一个字符1或多次   【扩展正则示例】
* {n}  匹配前置条目n次       【扩展正则示例】
* {n,} 匹配前置条目至少n次   【扩展正则示例】
* {,m} 匹配前置条目至多m次   【扩展正则示例】
* {n,m}匹配前置条目n到m次   【扩展正则示例】

# 分组
* `|`：交替匹配符号两边的内容    【扩展正则示例】
* `()`：分组    【扩展正则示例】
* `\n`：分组后的后向引用功能    【扩展正则示例】
