---
title: yaml语法学习
date: 2018-02-27 11:23:11
tags: ['yaml']
categories: ['skill']
---
# 语法
* 大小写敏感
* 使用缩进表示层级关系
* 缩进时只允许使用空格，不允许使用tab
* 缩进时的空格数量不重要，重要的是同一层级的元素左侧对齐
* #表示注释
* yaml文件应当以'---'【三横杠】开头，以'...'【三点】结尾

# 字典
语法：以key: value形式表示字典（冒号后必须跟着一个空格）
## 行内式
`dict: {a: 'test1', b: 'test2'}`
## 复合式
```
dict:
 a: 'test3'
 b: 'test4'
```
# 列表
语法：列表的所有成员都是从同一缩进级别开始的行，以“ - ”开头（短划线和空格）
## 行内式
`list: ['one', 'two', 'three']`
## 复合式 
```
list:
 - one
 - two
 - three
```
# 纯量
## 注意
* 字符串有多行内容时，使用`|`或`>`表示
* 字符串内容默认可以直接表示，不用添加引号
* 当字符串内容以`[] {} > | * & ! % # \` @ ,`开头时，应当对字符串整体使用双引号
* 字符串中包含单引号、双引号、反斜线，应当对字符串整体使用双引号，同时也要使用转义字符进行转义
* 由于": "【冒号后接空格】表示一个映射【字典、列表】，“ #”【空格后接井号】表示注释，因此字符串中包含这些时需要整体使用引号
* 单引号和双引号的区别就是，双引号可以使用转义字符【比如`\n`】

## 内容
* 数字
* 字符串

```
str: |
 line 1
 line 2
 line 3
str: >
 line 1
 line 2
 line 3
```

* 布尔值

# 引用
* `&`定义锚点，`<<`表示合并到当前数据，`*`引用锚点
* 范例1-字典

```
# 数据结构
dict1: &defaults {a: 'test1', b: 'test2'}
dict2:
 c: 'test3'
 d: 'test4'
 <<: *defaults

# 输出
print(dict1, dict2)
{'a': 'test1', 'b': 'test2'} 
{'c': 'test3', 'a': 'test1', 'd': 'test4', 'b': 'test2'}
```

* 范例2-列表

```yaml
ceshi:
 - &var a
 - b
 - c
 - d
 - *var
```
