---
title: web基础知识
tags:
  - 状态码
  - http报文
categories:
  - web
date: 2019-06-11 18:08:44
---

# http浏览过程
1. 用户提交域名
2. 浏览器进行域名解析
    1. 浏览器使用本地缓存进行域名解析【刷新dns缓存：ipconfig/flushdns】
    2. 本地无缓存时使用本地dns服务器
    3. 本地dns无缓存时向授权dns服务器请求解析
3. 有使用CDN时，进入CDN解析循环

# 访问模式
## BS模式
即browser/server浏览器/服务器模式，是一种三层架构【页面显示、逻辑处理、数据库访问】， B/S架构中显示逻辑交给了web浏览器，事务处理放在webapp上，这样就避免了庞大的客户端，减少了客户端的压力，因为客户端包含的逻辑较少，因此也被称为瘦客户端
### 优点
* 无需安装客户端，有web浏览器就够了
* BS架构无需升级多个客户端，升级服务器就行了

### 缺点
* 在跨浏览器上，需要测试人员进行各种测试
* 在速度和安全上需要花费巨大的设计成本，这是BS架构的最大问题
* 客户端服务器的交互式请求-相应模式，通常需要刷新页面，这并是不客户乐意做的（在Ajax实用化后此问题得到一定程度的缓解）

## CS模式
C/S系统是一种典型的两层架构，期全称为Client/server，客户端服务端架构，客户端包含一个或多个在用户电脑上运行的程序，而服务端有两种，一种为数据库服务端，客户端通过数据库连接访问服务端的数据；另一种是socket服务器端，服务器程序通过socket与客户端程序通信。  
C/S架构为胖客户端，因为客户端需要实现绝大部分的业务逻辑和页面展示。这种架构中，通过与数据库交互（通常是sql或存储过程的实现）来达到持久化数据。
### 优点
* C/S架构的页面和操作可以很丰富
* 服务器端和客户端可以更好的兼容

### 缺点
* 需要安装客户端，不利于向未知用户推广
* 维护成本高，发生一次升级，则所有客户端的程序都需要改变

# 网页技术
## 静态网页
程序在客户端浏览器解析，它是相对于动态网页而言，是指没有后台数据库、不含程序和可交互的网页。通俗来说就是编辑什么显示什么不会有任何变化。  
常见扩展名为：htm、html、xml、shtml、jpg(gif、png、bmp等所有图片)、js、css（样式），swf，avi，wmv，flv视频格式
### 特点
* 静态网页的每个页面都有一个固定的url，且网页url一般以.html、.htm、.shtml常见后缀，而且地址中不含有问号“？”或“&”等特殊符号；
* 静态网页是实实在在保存在服务器上的文件，每个网页都是一个独立的文件
* 静态网页内容相对稳定，因此更容易被搜索引擎收录
* 静态网页没有数据库支持，维护更新不便
* 静态网页交互性差
* 网页程序在浏览器端解析，服务器直接返回数据，能够接受更多的并发

### 静态网页语言
html，js，css，xml
## 动态网页
以asp、aspx、php、jsp、do、cgi、perl为后缀，并且一般动态网页中含有标志性的“？”、“&”等
### 特点
* 以数据库技术为基础
* 可以实现更多的功能，如用户登录、用户注册、在线调查、用户管理、订单管理等
* 动态网页大多并不是独立存在于服务器的网页文件，只有当用户请求时服务器才返回一个完整页面
* 动态网页中的“？”对搜索引擎的收录存在一定问题，搜索引擎一般不可能从一个网站的数据库中访问全部的网页，或者出于技术方面的考虑，所有蜘蛛一般不会去抓取网址中“？”后面的内容，一般采用动态网页的网站在进行搜索引擎推广时需要做一定的技术处理（伪静态）才能适应搜索引擎的抓取要求。
* 程序在服务端解析，服务端：php引擎，java容器（tomcat，resin，jboss、weblogic）
* 由于程序在服务端解析，因此会消耗大量的cpu和内存等资源，因此效率不如静态网页

## 伪静态网页
* 由于搜索引擎无法正确读取带参数的动态网页内容，多数网站采用动态生成静态页面的技术，消除动态网页中的参数，使搜索引擎收录更多的网页，达到优化的效果，伪静态实质依然是动态页面。
* 伪静态技术：通过某些技术（如rewrite规则），把网页的url重写，同时消除了动态网页中的参数，但是并不生成任何的页面，仅改变了地址路径，以达到搜索引擎收录的目的。


# http报文
![](https://simple0426-blog.oss-cn-beijing.aliyuncs.com/http-header.png)

* 请求行
    - 范例：GET /index.html HTTP/1.1
    - 请求方法：GET、POST、HEAD、PUT、DELETE、OPTIONS、TRACE、CONNECT
        + GET：当客户端从服务端读取文档时使用GET方法，使用GET方法时，请求参数和对应的值附加到URL后，利用一个问号（“？”）代表URL的结束与请求参数的开始，传递参数的最长为1024个字节
        + POST：当客户端向服务端提交的信息较多时使用POST方法，POST方法将参数和值封装在请求的数据中，以键值对的形式出现
* 请求头
    - 请求头部由关键字/值对组成，每行一对。关键字与值使用英文冒号分割。请求头部通知服务器关于客户端请求的信息。
    - 典型的请求头有：
        + User-agent：产生请求的浏览器类型
        + Accept：客户端可识别的内容类型列表
        + Host：请求的主机名，允许多个域名同处一个ip地址，即为虚拟主机。
* 空行
    - 最后一个请求头之后是一个空行，发送回车和换行符，通知服务器一下不再有请求头
    - 对于一个完整的http请求来说，空行是必须的，否则服务器会认为本次请求的数据尚未完全发送到服务器，服务器会一直处于等待状态。
* 请求数据
    - 请求数据不在GET方法中，而是在POST方法中
    - POST方法适用于需要客户填写表单的场合
    - 与请求数据相关的最常用的请求头有Content-Type和Content-Length

* GET与POST
    * GET是从服务器上获取数据，POST是向服务器传送数据
    * 对于GET方式，服务端使用Request.QueryString获取变量的值；POST方式服务端使用Request.Form获取提交的数据
    * GET方式通过URL提交数据，数据在URL中可以看到，所以不安全；POST方式，数据放在html header中，较为安全。
    * GET方式提交的数据最多为1024字节，POST方式则没有限制。

# http状态码
|         群组        | 状态码 |                                                 含义                                                |
|---------------------|--------|-----------------------------------------------------------------------------------------------------|
| 2系列【成功】       |    200 | OK,服务器成功返回网页                                                                               |
| 3系列【重定向】     |    301 | Moved Permanently（永久跳转）请求的网页已永久跳转到新位置                                           |
| 4系列【请求错误】   |    403 | Forbidden（禁止访问）服务器拒绝请求                                                                 |
| 4系列               |    404 | Not Found，服务器找不到请求的页面                                                                   |
| 5系列【服务器错误】 |    500 | Internal Server Error(内部服务器错误)                                                               |
| 5系列               |    502 | Bad Gateway（坏的网关），一般是网关服务器请求后端服务时，后端服务没有按照http协议正确返回结果       |
| 5系列               |    503 | Service Unavailable（服务不可用），可能因为超载或停机维护                                           |
| 5系列               |    504 | Gateway Timeout（网关超时），一般是因为网关服务器请求后端服务时，后端服务没有在特定的时间内完成服务 |

# 名词注解
* IP：独立的ip数，是网站流量分析的重要指标，0:00-24:00内相同ip被计算一次
* PV【page view 访问量】：用户刷新一次被计算1次
* UV【unique vistor独立访客】：访问网站的一个电脑客户端为一个访客
    - 通过IP地址+其他特征信息定义
    - 通过cookies分辨
* URI标记一个网络资源
* URL用地址标记一个网络资源
    - 格式：scheme://host.domain:port/path/filename
    - 范例：http://www.w3school.com.cn/html/html_url.asp

# web服务器
* IIS：windows下常用web服务器
* apache
* nginx
* tomcat
