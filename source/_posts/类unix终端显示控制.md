---
title: 类unix终端显示控制
tags:
  - 颜色
  - 光标
date: 2018-05-28 11:16:15
categories:
---

# ANSI转义序列
>[参考](https://www.cnblogs.com/crabxx/p/4046498.html)

通常我们可以使用echo命令加-e选项输出各种颜色的文本，例如：echo -e "\033[31mRed Text\033[0m"，可以输出红色的字体“Red Text”。其中："\033[31m"和"\033[0m"是ANSI转义序列（ANSI escape code/sequence），它控制文本输出的格式、颜色等，大多数的类unix终端仿真器都能够解释ANSI转义序列。  

## 颜色控制
### 格式
* CSI n1 [;n2 [;…]] m
* 其中CSI全称为“控制序列引导器”（Control Sequence Introducer/Initiator），也就是上述示例中的"\033["（其中\033是你键盘左上角Esc键对应的ascii码（八进制））；n1、n2等表示SGR参数（下面会列出一些常用的SGR参数），用于控制颜色、粗体、斜体、闪烁等文本输出格式；m表示转义序列结束。

### 常用SRG参数
|  编码 |      说明      |
|-------|----------------|
| 0     | 关闭所有格式   |
| 1     | 粗体或高亮     |
| 2     | 模糊           |
| 3     | 斜体           |
| 4     | 下划线         |
| 5     | 闪烁（慢）     |
| 6     | 闪烁（快）     |
| 7     | 交换前景背景色 |
| 8     | 隐藏           |
| 30-37 | 前景色（30+x） |
| 40-47 | 背景色（40+x） |

### 颜色表
| 颜色值 | 颜色 |
|--------|------|
|      0 | 黑   |
|      1 | 红   |
|      2 | 绿   |
|      3 | 黄   |
|      4 | 蓝   |
|      5 | 紫   |
|      6 | 青   |
|      7 | 白   |

## 光标控制
### 格式
|   格式   |          含义          |
|----------|------------------------|
| \33[K    | 清除从光标到行尾的内容 |
| \33[?25l | 隐藏光标               |
| \33[?25h | 显示光标               |

### 范例
```python
import time
for i in range(1, 10):
    # 隐藏光标
    print('\x1b[?25l', end='')
    # 将光标移到行首位置，并清除光标到行尾的内容
    #print('\r\x1b[K', end='')
    print('\x1b[K', end='')
    # 打印内容后换行
    #print('*'*i, end='\n', flush=True)
    print('*'*i, end='', flush=True)
    time.sleep(0.5)
# 显示光标
print('\x1b[?25h')
time.sleep(1)
```
